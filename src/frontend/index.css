@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Nunito+Sans:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 0.75rem;

    /* Brand palette - OKLCH raw L C H values */
    --navy: 0.22 0.08 258;
    --navy-deep: 0.16 0.06 258;
    --navy-light: 0.32 0.07 258;
    --gold: 0.72 0.13 68;
    --gold-light: 0.82 0.10 68;
    --gold-dark: 0.58 0.12 68;
    --cream: 0.97 0.015 85;
    --warmwhite: 0.94 0.02 85;
    --warm-dark: 0.88 0.025 80;

    /* Semantic tokens */
    --background: 0.97 0.015 85;
    --foreground: 0.18 0.04 260;
    --card: 0.97 0.015 85;
    --card-foreground: 0.18 0.04 260;
    --popover: 0.97 0.015 85;
    --popover-foreground: 0.18 0.04 260;
    --primary: 0.22 0.08 258;
    --primary-foreground: 0.97 0.015 85;
    --secondary: 0.94 0.02 85;
    --secondary-foreground: 0.22 0.08 258;
    --muted: 0.92 0.02 80;
    --muted-foreground: 0.52 0.03 258;
    --accent: 0.72 0.13 68;
    --accent-foreground: 0.18 0.04 260;
    --destructive: 0.577 0.245 27.325;
    --destructive-foreground: 0.985 0 0;
    --border: 0.88 0.025 80;
    --input: 0.88 0.025 80;
    --ring: 0.72 0.13 68;

    --chart-1: 0.646 0.222 41.116;
    --chart-2: 0.6 0.118 184.704;
    --chart-3: 0.398 0.07 227.392;
    --chart-4: 0.828 0.189 84.429;
    --chart-5: 0.769 0.188 70.08;
    --sidebar: 0.22 0.08 258;
    --sidebar-foreground: 0.97 0.015 85;
    --sidebar-primary: 0.72 0.13 68;
    --sidebar-primary-foreground: 0.18 0.04 260;
    --sidebar-accent: 0.32 0.07 258;
    --sidebar-accent-foreground: 0.97 0.015 85;
    --sidebar-border: 0.30 0.06 258;
    --sidebar-ring: 0.72 0.13 68;
  }

  .dark {
    --background: 0.16 0.06 258;
    --foreground: 0.94 0.02 85;
    --card: 0.22 0.08 258;
    --card-foreground: 0.94 0.02 85;
    --popover: 0.25 0.07 258;
    --popover-foreground: 0.94 0.02 85;
    --primary: 0.72 0.13 68;
    --primary-foreground: 0.16 0.06 258;
    --secondary: 0.28 0.07 258;
    --secondary-foreground: 0.94 0.02 85;
    --muted: 0.28 0.07 258;
    --muted-foreground: 0.65 0.04 258;
    --accent: 0.72 0.13 68;
    --accent-foreground: 0.16 0.06 258;
    --destructive: 0.704 0.191 22.216;
    --destructive-foreground: 0.94 0.02 85;
    --border: 1 0 0 / 12%;
    --input: 1 0 0 / 15%;
    --ring: 0.72 0.13 68;
    --sidebar: 0.16 0.06 258;
    --sidebar-foreground: 0.94 0.02 85;
    --sidebar-primary: 0.72 0.13 68;
    --sidebar-primary-foreground: 0.16 0.06 258;
    --sidebar-accent: 0.28 0.07 258;
    --sidebar-accent-foreground: 0.94 0.02 85;
    --sidebar-border: 1 0 0 / 10%;
    --sidebar-ring: 0.72 0.13 68;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Nunito Sans', sans-serif;
  }

  h1, h2, h3, h4, h5 {
    font-family: 'EB Garamond', Georgia, serif;
  }
}

@layer utilities {
  .font-display {
    font-family: 'EB Garamond', Georgia, serif;
  }
  .font-body {
    font-family: 'Nunito Sans', sans-serif;
  }
}

/* ===================================================
   FIX #3: Elevated card depth system
   Layered shadow (ambient + directional) + warm surface
   =================================================== */
.card-parchment {
  background: oklch(var(--warmwhite));
  border: 1px solid oklch(var(--warm-dark) / 0.6);
  box-shadow:
    0 1px 2px oklch(var(--navy) / 0.04),
    0 4px 16px oklch(var(--navy) / 0.07),
    0 12px 32px oklch(var(--navy) / 0.05),
    inset 0 1px 0 oklch(1 0 0 / 0.7);
}

/* Hover elevation lift */
.card-parchment-hover {
  transition: box-shadow 0.25s ease, transform 0.25s ease;
}
.card-parchment-hover:hover {
  box-shadow:
    0 2px 4px oklch(var(--navy) / 0.05),
    0 8px 24px oklch(var(--navy) / 0.10),
    0 20px 48px oklch(var(--navy) / 0.08),
    inset 0 1px 0 oklch(1 0 0 / 0.7);
  transform: translateY(-2px);
}

/* ===================================================
   FIX #1: Hero section atmosphere
   =================================================== */

/* Richer hero gradient — deep navy-indigo, gold warmth at top */
.bg-hero-gradient {
  background:
    radial-gradient(ellipse 80% 60% at 50% -10%, oklch(0.38 0.12 68 / 0.18) 0%, transparent 60%),
    radial-gradient(ellipse 100% 80% at 30% 40%, oklch(0.30 0.10 275) 0%, oklch(var(--navy-deep)) 55%, oklch(0.12 0.06 250) 100%);
}

/* Hero noise grain texture */
.hero-grain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
}

/* Cross icon golden halo */
.icon-halo {
  background: radial-gradient(circle, oklch(var(--gold) / 0.25) 0%, oklch(var(--gold) / 0.08) 60%, transparent 80%);
  box-shadow:
    0 0 0 1px oklch(var(--gold) / 0.25),
    0 0 24px oklch(var(--gold) / 0.20),
    0 0 48px oklch(var(--gold) / 0.10);
}

/* Verse card — bold gold accent top + left */
.verse-card {
  background: oklch(var(--warmwhite));
  border: 1px solid oklch(var(--warm-dark) / 0.5);
  border-top: 3px solid oklch(var(--gold));
  box-shadow:
    0 2px 4px oklch(var(--navy) / 0.04),
    0 8px 32px oklch(var(--navy) / 0.10),
    0 24px 48px oklch(var(--navy) / 0.06),
    inset 0 1px 0 oklch(1 0 0 / 0.8);
}

/* ===================================================
   FIX #2: Feature grid — brand-unified tile system
   =================================================== */
.feature-tile {
  background: oklch(var(--warmwhite));
  border: 1px solid oklch(var(--warm-dark) / 0.55);
  box-shadow:
    0 1px 2px oklch(var(--navy) / 0.04),
    0 4px 12px oklch(var(--navy) / 0.06),
    inset 0 1px 0 oklch(1 0 0 / 0.7);
  transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
}
.feature-tile:hover {
  background: oklch(var(--navy));
  box-shadow:
    0 4px 8px oklch(var(--navy) / 0.15),
    0 12px 32px oklch(var(--navy) / 0.20);
  transform: translateY(-3px);
}
.feature-tile:hover .feature-tile-icon {
  background: oklch(var(--gold) / 0.20);
}
.feature-tile:hover .feature-tile-icon svg {
  color: oklch(var(--gold));
}
.feature-tile:hover .feature-tile-label {
  color: white;
}
.feature-tile:hover .feature-tile-desc {
  color: oklch(1 0 0 / 0.55);
}

/* Feature icon container */
.feature-tile-icon {
  background: oklch(var(--navy) / 0.08);
  transition: background 0.2s ease;
}
.feature-tile-icon svg {
  color: oklch(var(--navy) / 0.65);
  transition: color 0.2s ease;
}

/* ===================================================
   Page header gold divider line
   =================================================== */
.page-header-navy {
  background: linear-gradient(
    180deg,
    oklch(var(--navy-deep)) 0%,
    oklch(0.20 0.085 258) 100%
  );
  border-bottom: 1px solid oklch(var(--gold) / 0.25);
}

/* ===================================================
   Navy gradient section
   =================================================== */
.bg-navy-gradient {
  background: linear-gradient(135deg, oklch(var(--navy-deep)) 0%, oklch(0.26 0.09 268) 100%);
}

/* ===================================================
   Breathing Exercise
   =================================================== */
@keyframes breathe-in {
  0% { transform: scale(0.8); opacity: 0.7; }
  100% { transform: scale(1.4); opacity: 1; }
}

@keyframes breathe-hold {
  0%, 100% { transform: scale(1.4); opacity: 1; }
}

@keyframes breathe-out {
  0% { transform: scale(1.4); opacity: 1; }
  100% { transform: scale(0.8); opacity: 0.7; }
}

.breathe-circle {
  animation: breathe-in 4s ease-in-out forwards;
}
.breathe-circle.hold {
  animation: breathe-hold 4s ease-in-out forwards;
}
.breathe-circle.exhale {
  animation: breathe-out 4s ease-in-out forwards;
}

/* ===================================================
   Entrance animations
   =================================================== */
@keyframes fade-up {
  from { opacity: 0; transform: translateY(18px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.animate-fade-up {
  opacity: 0;
  animation: fade-up 0.55s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out forwards;
}

.animate-delay-100 { animation-delay: 0.10s; }
.animate-delay-200 { animation-delay: 0.20s; }
.animate-delay-300 { animation-delay: 0.30s; }
.animate-delay-400 { animation-delay: 0.40s; }
.animate-delay-500 { animation-delay: 0.50s; }
.animate-delay-600 { animation-delay: 0.60s; }

/* ===================================================
   Gold shimmer headline
   =================================================== */
.text-gold-shimmer {
  background: linear-gradient(
    90deg,
    oklch(var(--gold-dark)) 0%,
    oklch(var(--gold)) 35%,
    oklch(var(--gold-light)) 55%,
    oklch(var(--gold)) 75%,
    oklch(var(--gold-dark)) 100%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer 5s linear infinite;
}

/* ===================================================
   Grain texture (generic utility)
   =================================================== */
.grain-texture::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  border-radius: inherit;
}

/* ===================================================
   Gold glow utility
   =================================================== */
.shadow-gold-glow {
  box-shadow: 0 0 0 1px oklch(var(--gold) / 0.3), 0 4px 20px oklch(var(--gold) / 0.35);
}

/* ===================================================
   Bottom nav safe area
   =================================================== */
.pb-safe {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}

/* ===================================================
   Scrollbar
   =================================================== */
::-webkit-scrollbar {
  width: 4px;
}
::-webkit-scrollbar-track {
  background: oklch(var(--cream));
}
::-webkit-scrollbar-thumb {
  background: oklch(var(--warm-dark));
  border-radius: 2px;
}
